# 세션 네비게이터 — Phase 10~12 구현 로드맵

> 이 문서는 모든 구현 세션의 진행 상황을 추적하고,
> 각 세션 완료 후 다음 세션으로 안내하는 마스터 네비게이터다.

---

## 진행 현황

| # | Phase | 세션 이름 | 상태 | 난이도 | 세션 문서 | 사전 조건 |
|---|-------|----------|------|--------|----------|----------|
| 1 | 10-2 | LLM 4단 폴백 아키텍처 | ✅ 완료 | 🔴 높 | `phase10_2_llm_session.md` ✅ 작성 완료 | Anthropic API 키 |
| 2 | 10-1 | OCR 엔진 연동 | ✅ 완료 | 🟡 중 | `phase10_1_ocr_session.md` ✅ 작성 완료 | PaddleOCR 설치 |
| 3 | 10-3 | 정렬 엔진 | ✅ 완료 | 🟢 낮 | `phase10_3_alignment_session.md` ✅ 작성 완료 | 10-1 완료 |
| 4 | 10-4 | KORCIS 파서 고도화 | ✅ 완료 | 🟢 낮 | `phase10_4_korcis_session.md` ✅ 작성 완료 (선택적) | 파서 수선 결과 확인 |
| 5 | 11-1 | 끊어읽기·현토 편집기 (L5) | ✅ 완료 | 🔴 높 | `phase11_1_hyeonto_session.md` ✅ 작성 완료 | D-014 |
| 6 | 11-2 | 번역 워크플로우 + LLM (L6) | ⏭️ 다음 | 🟡 중 | `phase11_2_translation_session.md` | 10-2 LLM + 11-1 |
| 7 | 11-3 | 주석/사전 연동 (L7) | ⬜ 대기 | 🟡 중 | `phase11_3_annotation_session.md` | 10-2 LLM |
| 8 | 12-1 | Git 그래프 완전판 | ⬜ 대기 | 🟡 중 | (Phase 9 결과 확인 후) | Phase 9 |
| 9 | 12-2 | Tauri 데스크톱 래핑 | ⬜ 대기 | 🔴 높 | (Phase 11 완료 후) | Phase 11 전체 |
| 10 | 12-3 | 교환 형식 import/export | ⬜ 대기 | 🟢 낮 | (exchange.schema.json 검토 후) | — |

**상태 범례**: ✅ 완료 / 🔄 구현 중 / ⏭️ 다음 / ⬜ 대기

---

## 세션 전환 프로토콜

각 세션이 끝나면 아래 절차를 따른다:

### 1. 완료 체크리스트 확인
세션 문서 맨 아래의 체크리스트를 모두 확인한다.

### 2. 이 네비게이터 업데이트
```
완료된 세션: 상태를 ✅ 완료로 변경
다음 세션:   상태를 ⏭️ 다음으로 변경
```

### 3. DECISIONS.md 업데이트
각 Phase에서 확정된 결정을 기록한다:

| Phase | Decision ID | 내용 |
|-------|------------|------|
| 10-1 | D-009 | OCR 엔진 플러그인 아키텍처 |
| 10-2 | D-010 | LLM 호출 아키텍처: 4단 폴백 + Draft→Review→Commit |
| 10-2 | D-011 | LLM 비용 추적 방식 (llm_usage_log.jsonl) |
| 10-3 | D-012 | 정렬 알고리즘 (difflib + 이체자 보정) |
| 10-4 | D-013 | KORCIS 파서 고도화 (008 해석 + 판식정보 + OpenAPI + 라이트 테마) |
| 11-1 | D-014 | L5 표점·현토 before/after 모델 + 프리셋 팔레트 |
| 11-2 | D-013 | L6 번역 데이터 모델 |
| 11-3 | D-014 | L7 주석 데이터 모델 + 용어집 |

### 4. 다음 세션 시작
Claude Code에 다음 세션 문서를 전달한다.

---

## 세션별 다음 안내

### 10-2 완료 후 → 10-1 OCR 엔진 연동

```
✅ 10-2에서 만든 것: LlmRouter, 4단 폴백, Draft→Review→Commit, 레이아웃 분석
⏭️ 다음: phase10_1_ocr_session.md
📋 사전 준비:
   - PaddleOCR 설치 가능한지 확인 (paddlepaddle은 무거움)
   - GPU 없으면 CPU 버전으로 진행
   - L3 layout_page.json이 있는 테스트 데이터 확인
```

### 10-1 완료 후 → 10-3 정렬 엔진

```
✅ 10-1에서 만든 것: OCR 플러그인 아키텍처, PaddleOCR 엔진, OCR 파이프라인, GUI
⏭️ 다음: phase10_3_alignment_session.md
📋 사전 준비:
   - L2 OCR 결과와 L4 확정 텍스트가 모두 있는 테스트 페이지 확인
   - resources/variant_chars.json — 빈 템플릿 제공 (사용자가 직접 이체자 쌍 추가)
```

### 10-3 완료 후 → 10-4 KORCIS 파서 고도화 (선택)

```
✅ 10-3에서 만든 것: 정렬 알고리즘, 이체자 보정, 대조 GUI
⏭️ 다음: 10-4 잔여 작업 확인 → 필요하면 진행, 아니면 11-1로
📋 확인 사항:
   - 파서 수선에서 KORCIS 기본 구현이 충분한지
   - API 키 기반 고급 기능이 지금 필요한지
   - 불필요하면 건너뛰기
```

### 10-4 완료 후 → 11-1 현토 편집기 ✅ 완료

```
✅ 11-1에서 만든 것:
   - L5 표점 스키마 + 코어 로직 (punctuation.py) + 렌더링 + 문장 분리
   - L5 현토 스키마 + 코어 로직 (hyeonto.py) + 렌더링
   - 표점 프리셋 10종 (resources/punctuation_presets.json)
   - LLM 표점 Draft 생성 (punctuation_llm.py)
   - 표점 + 현토 API 10개 엔드포인트
   - [표점] 모드 탭 + 표점 편집기 GUI (글자 클릭 삽입, 팔레트, 미리보기)
   - [현토] 모드 탭 + 현토 편집기 GUI (루비 표시, 입력 팝업, 미리보기)
   - 통합 테스트 36건 통과
```

### 11-1 완료 후 → 11-2 번역 워크플로우

```
✅ 11-1에서 만든 것: L5 스키마, 표점/현토 편집기, 끊어읽기·문장분리
⏭️ 다음: phase11_2_translation_session.md
📋 사전 준비:
   - 11-1의 split_sentences()가 정상 동작하는지 확인
   - 10-2의 LlmRouter가 정상 동작하는지 재확인
   - 번역 프롬프트 초안 (고전 한문 → 현대 한국어)
```

### 11-2 완료 후 → 11-3 주석/사전 연동

```
✅ 11-2에서 만든 것: L6 번역 스키마, LLM 번역 파이프라인, 번역 편집기 GUI
⏭️ 다음: phase11_3_annotation_session.md
📋 사전 준비:
   - 주석 유형 목록 확인 (person, place, term, allusion, note)
   - 초기 용어집 데이터 (蒙求 인물 등)
```

### 11-3 완료 후 → 12-1 Git 그래프 완전판

```
✅ Phase 11 전체 완료: 현토 + 번역 + 주석
⏭️ 다음: Phase 9 결과물 확인 후 Git 그래프 세션 작성
📋 사전 준비:
   - Phase 9의 간략 타임라인 구현 상태 확인
   - d3.js 또는 Canvas 렌더링 방식 결정
```

### 12-1 완료 후 → 12-2 Tauri 래핑

```
⏭️ 다음: Tauri 프로젝트 초기화
📋 사전 준비:
   - Rust + Tauri 개발 환경 설치
   - 기존 FastAPI + 브라우저 구조 확인
```

### 12-2 완료 후 → 12-3 교환 형식

```
⏭️ 다음: exchange.schema.json 검토 후 세션 작성
📋 사전 준비:
   - exchange.schema.json 검토
   - import/export CLI 명세 확인
```

---

## 추가 작업 (Phase 외)

| 작업 | 상태 | 포함 위치 |
|------|------|----------|
| GUI 라이트그레이 테마 추가 | ⬜ 대기 | `phase10_4_korcis_session.md` 작업 6에 포함 |

---

## 사용법

이 파일을 Claude에게 보여주며:
- "현재 진행 상황 알려줘" → 진행 현황 표 참고
- "다음 뭐 해야 해?" → 세션별 다음 안내 참고
- "10-X 끝났어" → 진행 현황 표 업데이트 + 다음 세션 안내
